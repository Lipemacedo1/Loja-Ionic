<ion-toolbar>
  <ion-title *ngIf="!(isSearchOpen$ | async)" class="logo-container">
    <img src="assets/Logo.png" alt="Logo" class="logo-image">
  </ion-title>
  
  <!-- Barra de busca -->
  <div *ngIf="isSearchOpen$ | async" class="search-container">
    <ion-searchbar 
      [(ngModel)]="searchTerm"
      (ionInput)="onSearchInput($event)"
      placeholder="Buscar produtos..."
      animated
      showCancelButton="always"
      cancelButtonText="Cancelar"
      (ionCancel)="closeSearch()"
      class="search-bar">
    </ion-searchbar>
  </div>
  
  <div class="nav-buttons" slot="end">
    <ion-button routerLink="/carrinho" class="nav-button">
      <ion-icon name="cart" slot="icon-only"></ion-icon>
      <ion-badge color="danger" *ngIf="carrinhoItens > 0" class="cart-badge">{{ carrinhoItens }}</ion-badge>
    </ion-button>
    
    <button (click)="irParaHome()" class="nav-button" [class.active]="router.url === '/home' && !isPromocao">
      <ion-icon name="home"></ion-icon>
      <span>Home</span>
    </button>
    
    <!-- Botão de promoção -->
    <button (click)="irParaPromocao()" class="nav-button" [class.active]="isPromocao">
      <ion-icon name="pricetag"></ion-icon>
      <span>Promoção</span>
    </button>
    
    <button (click)="toggleSearch()" class="nav-button" [class.active]="isSearchOpen$ | async">
      <ion-icon [name]="(isSearchOpen$ | async) ? 'close' : 'search'"></ion-icon>
      <span>{{ (isSearchOpen$ | async) ? 'Fechar' : 'Buscar' }}</span>
    </button>
  </div>
</ion-toolbar>
